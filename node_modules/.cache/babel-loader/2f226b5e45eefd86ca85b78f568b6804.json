{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\"];\nimport React, { useState, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { FilterDropdown, FieldLabel, useMountMergeState, dateArrayFormatter, dateFormatterMap } from '@ant-design/pro-utils';\nimport './index.less';\n\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n\n  var label = props.label,\n      size = props.size,\n      disabled = props.disabled,\n      propsOnChange = props.onChange,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      valuePropName = props.valuePropName,\n      placeholder = props.placeholder,\n      labelFormatter = props.labelFormatter,\n      bordered = props.bordered,\n      footerRender = props.footerRender,\n      allowClear = props.allowClear,\n      otherFieldProps = props.otherFieldProps,\n      valueType = props.valueType,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n\n  var _useState = useState(props[valuePropName]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tempValue = _useState2[0],\n      setTempValue = _useState2[1];\n\n  var _useMountMergeState = useMountMergeState(false),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      open = _useMountMergeState2[0],\n      setOpen = _useMountMergeState2[1];\n\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n\n  var labelValue = props[valuePropName];\n  /** DataRange的转化，moment 的 toString 有点不好用 */\n\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n\n    if ((valueType === null || valueType === void 0 ? void 0 : (_valueType$toLowerCas = valueType.toLowerCase()) === null || _valueType$toLowerCas === void 0 ? void 0 : _valueType$toLowerCas.endsWith('range')) && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return /*#__PURE__*/React.createElement(FilterDropdown, {\n    disabled: disabled,\n    onVisibleChange: setOpen,\n    visible: open,\n    label: /*#__PURE__*/React.createElement(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue(undefined);\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue(undefined);\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-container\"), className),\n    style: style\n  }, /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n    setTempValue((e === null || e === void 0 ? void 0 : e.target) ? e.target.value : e);\n  }), _objectSpread2), children.props))));\n};\n\nexport default LightWrapper;","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-form/es/BaseForm/LightWrapper/index.js"],"names":["_defineProperty","_objectSpread","_slicedToArray","_ConfigProvider","_objectWithoutProperties","_excluded","React","useState","useContext","useMemo","classNames","FilterDropdown","FieldLabel","useMountMergeState","dateArrayFormatter","dateFormatterMap","LightWrapper","props","_objectSpread2","label","size","disabled","propsOnChange","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","rest","_useContext","ConfigContext","getPrefixCls","prefixCls","_useState","_useState2","tempValue","setTempValue","_useMountMergeState","_useMountMergeState2","open","setOpen","_otherFieldProps$onCh","_len","arguments","length","restParams","Array","_key","call","apply","concat","labelValue","labelText","_valueType$toLowerCas","toLowerCase","endsWith","createElement","onVisibleChange","visible","ellipsis","onClear","undefined","value","expanded","formatter","footer","onConfirm","cloneElement","e","target"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\"];\nimport React, { useState, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { FilterDropdown, FieldLabel, useMountMergeState, dateArrayFormatter, dateFormatterMap } from '@ant-design/pro-utils';\nimport './index.less';\n\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n\n  var label = props.label,\n      size = props.size,\n      disabled = props.disabled,\n      propsOnChange = props.onChange,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      valuePropName = props.valuePropName,\n      placeholder = props.placeholder,\n      labelFormatter = props.labelFormatter,\n      bordered = props.bordered,\n      footerRender = props.footerRender,\n      allowClear = props.allowClear,\n      otherFieldProps = props.otherFieldProps,\n      valueType = props.valueType,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n\n  var _useState = useState(props[valuePropName]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tempValue = _useState2[0],\n      setTempValue = _useState2[1];\n\n  var _useMountMergeState = useMountMergeState(false),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      open = _useMountMergeState2[0],\n      setOpen = _useMountMergeState2[1];\n\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n\n  var labelValue = props[valuePropName];\n  /** DataRange的转化，moment 的 toString 有点不好用 */\n\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n\n    if ((valueType === null || valueType === void 0 ? void 0 : (_valueType$toLowerCas = valueType.toLowerCase()) === null || _valueType$toLowerCas === void 0 ? void 0 : _valueType$toLowerCas.endsWith('range')) && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return /*#__PURE__*/React.createElement(FilterDropdown, {\n    disabled: disabled,\n    onVisibleChange: setOpen,\n    visible: open,\n    label: /*#__PURE__*/React.createElement(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue(undefined);\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue(undefined);\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-container\"), className),\n    style: style\n  }, /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n    setTempValue((e === null || e === void 0 ? void 0 : e.target) ? e.target.value : e);\n  }), _objectSpread2), children.props))));\n};\n\nexport default LightWrapper;"]},"metadata":{},"sourceType":"module"}