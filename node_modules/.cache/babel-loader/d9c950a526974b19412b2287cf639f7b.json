{"ast":null,"code":"import \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"label\", \"prefixCls\", \"onChange\", \"value\", \"mode\", \"children\", \"defaultValue\", \"size\", \"showSearch\", \"disabled\", \"style\", \"className\", \"bordered\", \"options\", \"onSearch\", \"allowClear\", \"labelInValue\"];\nimport React, { useState, useContext, useMemo } from 'react';\nimport { SearchOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\nimport { FieldLabel } from '@ant-design/pro-utils';\nimport './index.less';\n/**\n * 如果有 label 就优先使用 label\n *\n * @param valueMap\n * @param v\n */\n\nvar getValueOrLabel = function getValueOrLabel(valueMap, v) {\n  if (_typeof(v) !== 'object') {\n    return valueMap[v] || v;\n  }\n\n  return valueMap[v === null || v === void 0 ? void 0 : v.value] || v.label;\n};\n\nvar LightSelect = function LightSelect(props, ref) {\n  var label = props.label,\n      customizePrefixCls = props.prefixCls,\n      _onChange = props.onChange,\n      value = props.value,\n      mode = props.mode,\n      children = props.children,\n      defaultValue = props.defaultValue,\n      size = props.size,\n      showSearch = props.showSearch,\n      disabled = props.disabled,\n      style = props.style,\n      className = props.className,\n      bordered = props.bordered,\n      options = props.options,\n      onSearch = props.onSearch,\n      allowClear = props.allowClear,\n      labelInValue = props.labelInValue,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? label : _props$placeholder;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-select-light-select');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      keyword = _useState4[0],\n      setKeyword = _useState4[1];\n\n  var valueMap = useMemo(function () {\n    var values = {};\n    options === null || options === void 0 ? void 0 : options.forEach(function (_ref) {\n      var aLabel = _ref.label,\n          aValue = _ref.value;\n      values[aValue] = aLabel || aValue;\n    });\n    return values;\n  }, [options]);\n  var filterValue = Array.isArray(value) ? value.map(function (v) {\n    return getValueOrLabel(valueMap, v);\n  }) : getValueOrLabel(valueMap, value);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-searchable\"), showSearch), className),\n    style: style,\n    onClick: function onClick() {\n      if (!disabled) {\n        setOpen(true);\n      }\n    }\n  }, /*#__PURE__*/React.createElement(_Select, _extends({}, restProps, {\n    allowClear: allowClear,\n    value: value,\n    mode: mode,\n    labelInValue: labelInValue,\n    size: size,\n    disabled: disabled,\n    onChange: function onChange(v, option) {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(v, option);\n\n      if (mode !== 'multiple') {\n        setTimeout(function () {\n          setOpen(false);\n        }, 0);\n      }\n    },\n    bordered: bordered,\n    showSearch: showSearch,\n    onSearch: onSearch,\n    style: style,\n    dropdownRender: function dropdownRender(menuNode) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref\n      }, showSearch && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: '4px 8px'\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        value: keyword,\n        allowClear: allowClear,\n        onChange: function onChange(e) {\n          setKeyword(e.target.value.toLowerCase());\n          onSearch === null || onSearch === void 0 ? void 0 : onSearch(e.target.value);\n        },\n        onKeyDown: function onKeyDown(e) {\n          // 避免按下删除键把选项也删除了\n          e.stopPropagation();\n        },\n        style: {\n          width: '100%'\n        },\n        prefix: /*#__PURE__*/React.createElement(SearchOutlined, null)\n      })), menuNode);\n    },\n    open: open,\n    onDropdownVisibleChange: setOpen,\n    prefixCls: customizePrefixCls,\n    options: keyword ? options === null || options === void 0 ? void 0 : options.filter(function (o) {\n      return String(o.label).toLowerCase().includes(keyword) || o.value.toLowerCase().includes(keyword);\n    }) : options\n  })), /*#__PURE__*/React.createElement(FieldLabel, {\n    ellipsis: true,\n    size: size,\n    label: label,\n    placeholder: placeholder,\n    disabled: disabled,\n    expanded: open,\n    bordered: bordered,\n    allowClear: allowClear,\n    value: filterValue || (value === null || value === void 0 ? void 0 : value.label) || value,\n    onClear: function onClear() {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(undefined, undefined);\n    }\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(LightSelect);","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-field/es/components/Select/LightSelect/index.js"],"names":["_Select","_extends","_Input","_defineProperty","_slicedToArray","_ConfigProvider","_objectWithoutProperties","_typeof","_excluded","React","useState","useContext","useMemo","SearchOutlined","classNames","FieldLabel","getValueOrLabel","valueMap","v","value","label","LightSelect","props","ref","customizePrefixCls","prefixCls","_onChange","onChange","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue","restProps","_props$placeholder","placeholder","_useContext","ConfigContext","getPrefixCls","_useState","_useState2","open","setOpen","_useState3","_useState4","keyword","setKeyword","values","forEach","_ref","aLabel","aValue","filterValue","Array","isArray","map","createElement","concat","onClick","option","setTimeout","dropdownRender","menuNode","margin","e","target","toLowerCase","onKeyDown","stopPropagation","width","prefix","onDropdownVisibleChange","filter","o","String","includes","ellipsis","expanded","onClear","undefined","forwardRef"],"mappings":"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","sourcesContent":["import \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"label\", \"prefixCls\", \"onChange\", \"value\", \"mode\", \"children\", \"defaultValue\", \"size\", \"showSearch\", \"disabled\", \"style\", \"className\", \"bordered\", \"options\", \"onSearch\", \"allowClear\", \"labelInValue\"];\nimport React, { useState, useContext, useMemo } from 'react';\nimport { SearchOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\nimport { FieldLabel } from '@ant-design/pro-utils';\nimport './index.less';\n/**\n * 如果有 label 就优先使用 label\n *\n * @param valueMap\n * @param v\n */\n\nvar getValueOrLabel = function getValueOrLabel(valueMap, v) {\n  if (_typeof(v) !== 'object') {\n    return valueMap[v] || v;\n  }\n\n  return valueMap[v === null || v === void 0 ? void 0 : v.value] || v.label;\n};\n\nvar LightSelect = function LightSelect(props, ref) {\n  var label = props.label,\n      customizePrefixCls = props.prefixCls,\n      _onChange = props.onChange,\n      value = props.value,\n      mode = props.mode,\n      children = props.children,\n      defaultValue = props.defaultValue,\n      size = props.size,\n      showSearch = props.showSearch,\n      disabled = props.disabled,\n      style = props.style,\n      className = props.className,\n      bordered = props.bordered,\n      options = props.options,\n      onSearch = props.onSearch,\n      allowClear = props.allowClear,\n      labelInValue = props.labelInValue,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? label : _props$placeholder;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-select-light-select');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      keyword = _useState4[0],\n      setKeyword = _useState4[1];\n\n  var valueMap = useMemo(function () {\n    var values = {};\n    options === null || options === void 0 ? void 0 : options.forEach(function (_ref) {\n      var aLabel = _ref.label,\n          aValue = _ref.value;\n      values[aValue] = aLabel || aValue;\n    });\n    return values;\n  }, [options]);\n  var filterValue = Array.isArray(value) ? value.map(function (v) {\n    return getValueOrLabel(valueMap, v);\n  }) : getValueOrLabel(valueMap, value);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-searchable\"), showSearch), className),\n    style: style,\n    onClick: function onClick() {\n      if (!disabled) {\n        setOpen(true);\n      }\n    }\n  }, /*#__PURE__*/React.createElement(_Select, _extends({}, restProps, {\n    allowClear: allowClear,\n    value: value,\n    mode: mode,\n    labelInValue: labelInValue,\n    size: size,\n    disabled: disabled,\n    onChange: function onChange(v, option) {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(v, option);\n\n      if (mode !== 'multiple') {\n        setTimeout(function () {\n          setOpen(false);\n        }, 0);\n      }\n    },\n    bordered: bordered,\n    showSearch: showSearch,\n    onSearch: onSearch,\n    style: style,\n    dropdownRender: function dropdownRender(menuNode) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref\n      }, showSearch && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: '4px 8px'\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        value: keyword,\n        allowClear: allowClear,\n        onChange: function onChange(e) {\n          setKeyword(e.target.value.toLowerCase());\n          onSearch === null || onSearch === void 0 ? void 0 : onSearch(e.target.value);\n        },\n        onKeyDown: function onKeyDown(e) {\n          // 避免按下删除键把选项也删除了\n          e.stopPropagation();\n        },\n        style: {\n          width: '100%'\n        },\n        prefix: /*#__PURE__*/React.createElement(SearchOutlined, null)\n      })), menuNode);\n    },\n    open: open,\n    onDropdownVisibleChange: setOpen,\n    prefixCls: customizePrefixCls,\n    options: keyword ? options === null || options === void 0 ? void 0 : options.filter(function (o) {\n      return String(o.label).toLowerCase().includes(keyword) || o.value.toLowerCase().includes(keyword);\n    }) : options\n  })), /*#__PURE__*/React.createElement(FieldLabel, {\n    ellipsis: true,\n    size: size,\n    label: label,\n    placeholder: placeholder,\n    disabled: disabled,\n    expanded: open,\n    bordered: bordered,\n    allowClear: allowClear,\n    value: filterValue || (value === null || value === void 0 ? void 0 : value.label) || value,\n    onClear: function onClear() {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(undefined, undefined);\n    }\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(LightSelect);"]},"metadata":{},"sourceType":"module"}