{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"valueType\", \"customLightMode\", \"lightFilterLabelFormatter\", \"valuePropName\", \"ignoreWidth\", \"defaultProps\"],\n    _excluded2 = [\"label\", \"tooltip\", \"placeholder\", \"width\", \"proFieldProps\", \"bordered\", \"messageVariables\", \"ignoreFormItem\", \"transform\", \"readonly\", \"allowClear\", \"colSize\", \"formItemProps\", \"filedConfig\"];\nimport React from 'react';\nimport { pickProFormItemProps, omitUndefined } from '@ant-design/pro-utils';\nimport classnames from 'classnames';\nimport { noteOnce } from \"rc-util/es/warning\";\nimport FieldContext from '../FieldContext';\nimport ProFormItem from '../components/FormItem';\nexport var TYPE = Symbol('ProFormComponent');\nvar WIDTH_SIZE_ENUM = {\n  // 适用于短数字，短文本或者选项\n  xs: 104,\n  s: 216,\n  // 适用于较短字段录入、如姓名、电话、ID 等。\n  sm: 216,\n  m: 328,\n  // 标准宽度，适用于大部分字段长度。\n  md: 328,\n  l: 440,\n  // 适用于较长字段录入，如长网址、标签组、文件路径等。\n  lg: 440,\n  // 适用于长文本录入，如长链接、描述、备注等，通常搭配自适应多行输入框或定高文本域使用。\n  xl: 552\n};\n/**\n * 这个方法的主要作用的帮助 Field 增加 FormItem 同时也会处理 lightFilter\n *\n * @param Field\n * @param config\n */\n\nfunction createField(Field, config) {\n  // 标记是否是 proform 的组件\n  // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n  Field.displayName = 'ProFormComponent';\n\n  var FieldWithContext = function FieldWithContext(props) {\n    var _rest$fieldProps, _otherProps$name, _rest$fieldProps2, _field$props$allowCle, _field$props, _field$props2;\n\n    var _ref = _objectSpread(_objectSpread({}, props === null || props === void 0 ? void 0 : props.filedConfig), config) || {},\n        valueType = _ref.valueType,\n        customLightMode = _ref.customLightMode,\n        lightFilterLabelFormatter = _ref.lightFilterLabelFormatter,\n        _ref$valuePropName = _ref.valuePropName,\n        valuePropName = _ref$valuePropName === void 0 ? 'value' : _ref$valuePropName,\n        ignoreWidth = _ref.ignoreWidth,\n        defaultProps = _ref.defaultProps,\n        defaultFormItemProps = _objectWithoutProperties(_ref, _excluded);\n\n    var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n        label = _defaultProps$props.label,\n        tooltip = _defaultProps$props.tooltip,\n        placeholder = _defaultProps$props.placeholder,\n        width = _defaultProps$props.width,\n        proFieldProps = _defaultProps$props.proFieldProps,\n        bordered = _defaultProps$props.bordered,\n        messageVariables = _defaultProps$props.messageVariables,\n        ignoreFormItem = _defaultProps$props.ignoreFormItem,\n        transform = _defaultProps$props.transform,\n        readonly = _defaultProps$props.readonly,\n        allowClear = _defaultProps$props.allowClear,\n        colSize = _defaultProps$props.colSize,\n        propsFormItemProps = _defaultProps$props.formItemProps,\n        filedConfig = _defaultProps$props.filedConfig,\n        rest = _objectWithoutProperties(_defaultProps$props, _excluded2);\n    /** 从 context 中拿到的值 */\n\n\n    var _React$useContext = React.useContext(FieldContext),\n        fieldProps = _React$useContext.fieldProps,\n        formItemProps = _React$useContext.formItemProps; // restFormItemProps is user props pass to Form.Item\n\n\n    var restFormItemProps = pickProFormItemProps(rest);\n    var formNeedProps = {\n      value: rest.value\n    };\n\n    var realFieldProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, ignoreFormItem ? formNeedProps : {}), {}, {\n      disabled: props.disabled,\n      placeholder: placeholder\n    }, fieldProps || {}), rest.fieldProps || {}), {}, {\n      style: _objectSpread(_objectSpread({}, (_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : _rest$fieldProps.style), fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style)\n    });\n\n    var otherProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      messageVariables: messageVariables\n    }, defaultFormItemProps), formItemProps), restFormItemProps), propsFormItemProps);\n\n    noteOnce( // eslint-disable-next-line @typescript-eslint/dot-notation\n    !rest['defaultValue'], '请不要在 Form 中使用 defaultXXX。如果需要默认值请使用 initialValues 和 initialValue。');\n    var ignoreWidthValueType = ['switch', 'radioButton', 'radio', 'rate'];\n\n    var realFieldPropsStyle = _objectSpread({}, realFieldProps === null || realFieldProps === void 0 ? void 0 : realFieldProps.style);\n\n    if (realFieldPropsStyle.width !== undefined && rest.valueType === 'switch') {\n      delete realFieldPropsStyle.width;\n    }\n\n    var field = /*#__PURE__*/React.createElement(Field // ProXxx 上面的 props 透传给 FieldProps，可能包含 Field 自定义的 props，\n    // 比如 ProFormSelect 的 request\n    , _extends({}, rest, {\n      fieldProps: omitUndefined(_objectSpread(_objectSpread({\n        allowClear: allowClear\n      }, realFieldProps), {}, {\n        style: omitUndefined(_objectSpread({\n          width: width && !WIDTH_SIZE_ENUM[width] ? width : undefined\n        }, realFieldPropsStyle)),\n        className: classnames(realFieldProps === null || realFieldProps === void 0 ? void 0 : realFieldProps.className, _defineProperty({\n          'pro-field': width && WIDTH_SIZE_ENUM[width]\n        }, \"pro-field-\".concat(width), width && // 有些 valueType 不需要宽度\n        !ignoreWidthValueType.includes(props === null || props === void 0 ? void 0 : props.valueType) && !ignoreWidth && WIDTH_SIZE_ENUM[width])) || undefined\n      })),\n      proFieldProps: omitUndefined(_objectSpread({\n        // @ts-ignore\n        mode: readonly ? 'read' : rest === null || rest === void 0 ? void 0 : rest.mode,\n        params: rest.params,\n        proFieldKey: (otherProps === null || otherProps === void 0 ? void 0 : otherProps.name) && \"form-field-\".concat(otherProps.name)\n      }, proFieldProps))\n    }));\n    return /*#__PURE__*/React.createElement(ProFormItem // 全局的提供一个 tip 功能，可以减少代码量\n    // 轻量模式下不通过 FormItem 显示 label\n    , _extends({\n      label: label && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light) !== true ? label : undefined,\n      tooltip: (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light) !== true && tooltip,\n      valuePropName: valuePropName,\n      key: (_otherProps$name = otherProps.name) === null || _otherProps$name === void 0 ? void 0 : _otherProps$name.toString()\n    }, otherProps, {\n      ignoreFormItem: ignoreFormItem,\n      transform: transform,\n      dataFormat: (_rest$fieldProps2 = rest.fieldProps) === null || _rest$fieldProps2 === void 0 ? void 0 : _rest$fieldProps2.format,\n      valueType: valueType || rest.valueType,\n      messageVariables: _objectSpread({\n        label: label || ''\n      }, otherProps === null || otherProps === void 0 ? void 0 : otherProps.messageVariables),\n      lightProps: omitUndefined(_objectSpread(_objectSpread(_objectSpread({}, realFieldProps), {}, {\n        valueType: valueType || rest.valueType,\n        bordered: bordered,\n        allowClear: (_field$props$allowCle = field === null || field === void 0 ? void 0 : (_field$props = field.props) === null || _field$props === void 0 ? void 0 : _field$props.allowClear) !== null && _field$props$allowCle !== void 0 ? _field$props$allowCle : allowClear,\n        light: proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light,\n        label: label,\n        customLightMode: customLightMode,\n        labelFormatter: lightFilterLabelFormatter,\n        valuePropName: valuePropName,\n        footerRender: field === null || field === void 0 ? void 0 : (_field$props2 = field.props) === null || _field$props2 === void 0 ? void 0 : _field$props2.footerRender\n      }, rest.lightProps), otherProps.lightProps))\n    }), field);\n  }; // 标记是否是 proform 的组件\n  // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n\n\n  FieldWithContext.displayName = 'ProFormComponent';\n  return FieldWithContext;\n}\n\nexport default createField;","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-form/es/BaseForm/createField.js"],"names":["_extends","_defineProperty","_objectSpread","_objectWithoutProperties","_excluded","_excluded2","React","pickProFormItemProps","omitUndefined","classnames","noteOnce","FieldContext","ProFormItem","TYPE","Symbol","WIDTH_SIZE_ENUM","xs","s","sm","m","md","l","lg","xl","createField","Field","config","displayName","FieldWithContext","props","_rest$fieldProps","_otherProps$name","_rest$fieldProps2","_field$props$allowCle","_field$props","_field$props2","_ref","filedConfig","valueType","customLightMode","lightFilterLabelFormatter","_ref$valuePropName","valuePropName","ignoreWidth","defaultProps","defaultFormItemProps","_defaultProps$props","label","tooltip","placeholder","width","proFieldProps","bordered","messageVariables","ignoreFormItem","transform","readonly","allowClear","colSize","propsFormItemProps","formItemProps","rest","_React$useContext","useContext","fieldProps","restFormItemProps","formNeedProps","value","realFieldProps","disabled","style","otherProps","ignoreWidthValueType","realFieldPropsStyle","undefined","field","createElement","className","concat","includes","mode","params","proFieldKey","name","light","key","toString","dataFormat","format","lightProps","labelFormatter","footerRender"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"valueType\", \"customLightMode\", \"lightFilterLabelFormatter\", \"valuePropName\", \"ignoreWidth\", \"defaultProps\"],\n    _excluded2 = [\"label\", \"tooltip\", \"placeholder\", \"width\", \"proFieldProps\", \"bordered\", \"messageVariables\", \"ignoreFormItem\", \"transform\", \"readonly\", \"allowClear\", \"colSize\", \"formItemProps\", \"filedConfig\"];\nimport React from 'react';\nimport { pickProFormItemProps, omitUndefined } from '@ant-design/pro-utils';\nimport classnames from 'classnames';\nimport { noteOnce } from \"rc-util/es/warning\";\nimport FieldContext from '../FieldContext';\nimport ProFormItem from '../components/FormItem';\nexport var TYPE = Symbol('ProFormComponent');\nvar WIDTH_SIZE_ENUM = {\n  // 适用于短数字，短文本或者选项\n  xs: 104,\n  s: 216,\n  // 适用于较短字段录入、如姓名、电话、ID 等。\n  sm: 216,\n  m: 328,\n  // 标准宽度，适用于大部分字段长度。\n  md: 328,\n  l: 440,\n  // 适用于较长字段录入，如长网址、标签组、文件路径等。\n  lg: 440,\n  // 适用于长文本录入，如长链接、描述、备注等，通常搭配自适应多行输入框或定高文本域使用。\n  xl: 552\n};\n/**\n * 这个方法的主要作用的帮助 Field 增加 FormItem 同时也会处理 lightFilter\n *\n * @param Field\n * @param config\n */\n\nfunction createField(Field, config) {\n  // 标记是否是 proform 的组件\n  // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n  Field.displayName = 'ProFormComponent';\n\n  var FieldWithContext = function FieldWithContext(props) {\n    var _rest$fieldProps, _otherProps$name, _rest$fieldProps2, _field$props$allowCle, _field$props, _field$props2;\n\n    var _ref = _objectSpread(_objectSpread({}, props === null || props === void 0 ? void 0 : props.filedConfig), config) || {},\n        valueType = _ref.valueType,\n        customLightMode = _ref.customLightMode,\n        lightFilterLabelFormatter = _ref.lightFilterLabelFormatter,\n        _ref$valuePropName = _ref.valuePropName,\n        valuePropName = _ref$valuePropName === void 0 ? 'value' : _ref$valuePropName,\n        ignoreWidth = _ref.ignoreWidth,\n        defaultProps = _ref.defaultProps,\n        defaultFormItemProps = _objectWithoutProperties(_ref, _excluded);\n\n    var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n        label = _defaultProps$props.label,\n        tooltip = _defaultProps$props.tooltip,\n        placeholder = _defaultProps$props.placeholder,\n        width = _defaultProps$props.width,\n        proFieldProps = _defaultProps$props.proFieldProps,\n        bordered = _defaultProps$props.bordered,\n        messageVariables = _defaultProps$props.messageVariables,\n        ignoreFormItem = _defaultProps$props.ignoreFormItem,\n        transform = _defaultProps$props.transform,\n        readonly = _defaultProps$props.readonly,\n        allowClear = _defaultProps$props.allowClear,\n        colSize = _defaultProps$props.colSize,\n        propsFormItemProps = _defaultProps$props.formItemProps,\n        filedConfig = _defaultProps$props.filedConfig,\n        rest = _objectWithoutProperties(_defaultProps$props, _excluded2);\n    /** 从 context 中拿到的值 */\n\n\n    var _React$useContext = React.useContext(FieldContext),\n        fieldProps = _React$useContext.fieldProps,\n        formItemProps = _React$useContext.formItemProps; // restFormItemProps is user props pass to Form.Item\n\n\n    var restFormItemProps = pickProFormItemProps(rest);\n    var formNeedProps = {\n      value: rest.value\n    };\n\n    var realFieldProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, ignoreFormItem ? formNeedProps : {}), {}, {\n      disabled: props.disabled,\n      placeholder: placeholder\n    }, fieldProps || {}), rest.fieldProps || {}), {}, {\n      style: _objectSpread(_objectSpread({}, (_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : _rest$fieldProps.style), fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style)\n    });\n\n    var otherProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      messageVariables: messageVariables\n    }, defaultFormItemProps), formItemProps), restFormItemProps), propsFormItemProps);\n\n    noteOnce( // eslint-disable-next-line @typescript-eslint/dot-notation\n    !rest['defaultValue'], '请不要在 Form 中使用 defaultXXX。如果需要默认值请使用 initialValues 和 initialValue。');\n    var ignoreWidthValueType = ['switch', 'radioButton', 'radio', 'rate'];\n\n    var realFieldPropsStyle = _objectSpread({}, realFieldProps === null || realFieldProps === void 0 ? void 0 : realFieldProps.style);\n\n    if (realFieldPropsStyle.width !== undefined && rest.valueType === 'switch') {\n      delete realFieldPropsStyle.width;\n    }\n\n    var field = /*#__PURE__*/React.createElement(Field // ProXxx 上面的 props 透传给 FieldProps，可能包含 Field 自定义的 props，\n    // 比如 ProFormSelect 的 request\n    , _extends({}, rest, {\n      fieldProps: omitUndefined(_objectSpread(_objectSpread({\n        allowClear: allowClear\n      }, realFieldProps), {}, {\n        style: omitUndefined(_objectSpread({\n          width: width && !WIDTH_SIZE_ENUM[width] ? width : undefined\n        }, realFieldPropsStyle)),\n        className: classnames(realFieldProps === null || realFieldProps === void 0 ? void 0 : realFieldProps.className, _defineProperty({\n          'pro-field': width && WIDTH_SIZE_ENUM[width]\n        }, \"pro-field-\".concat(width), width && // 有些 valueType 不需要宽度\n        !ignoreWidthValueType.includes(props === null || props === void 0 ? void 0 : props.valueType) && !ignoreWidth && WIDTH_SIZE_ENUM[width])) || undefined\n      })),\n      proFieldProps: omitUndefined(_objectSpread({\n        // @ts-ignore\n        mode: readonly ? 'read' : rest === null || rest === void 0 ? void 0 : rest.mode,\n        params: rest.params,\n        proFieldKey: (otherProps === null || otherProps === void 0 ? void 0 : otherProps.name) && \"form-field-\".concat(otherProps.name)\n      }, proFieldProps))\n    }));\n    return /*#__PURE__*/React.createElement(ProFormItem // 全局的提供一个 tip 功能，可以减少代码量\n    // 轻量模式下不通过 FormItem 显示 label\n    , _extends({\n      label: label && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light) !== true ? label : undefined,\n      tooltip: (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light) !== true && tooltip,\n      valuePropName: valuePropName,\n      key: (_otherProps$name = otherProps.name) === null || _otherProps$name === void 0 ? void 0 : _otherProps$name.toString()\n    }, otherProps, {\n      ignoreFormItem: ignoreFormItem,\n      transform: transform,\n      dataFormat: (_rest$fieldProps2 = rest.fieldProps) === null || _rest$fieldProps2 === void 0 ? void 0 : _rest$fieldProps2.format,\n      valueType: valueType || rest.valueType,\n      messageVariables: _objectSpread({\n        label: label || ''\n      }, otherProps === null || otherProps === void 0 ? void 0 : otherProps.messageVariables),\n      lightProps: omitUndefined(_objectSpread(_objectSpread(_objectSpread({}, realFieldProps), {}, {\n        valueType: valueType || rest.valueType,\n        bordered: bordered,\n        allowClear: (_field$props$allowCle = field === null || field === void 0 ? void 0 : (_field$props = field.props) === null || _field$props === void 0 ? void 0 : _field$props.allowClear) !== null && _field$props$allowCle !== void 0 ? _field$props$allowCle : allowClear,\n        light: proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.light,\n        label: label,\n        customLightMode: customLightMode,\n        labelFormatter: lightFilterLabelFormatter,\n        valuePropName: valuePropName,\n        footerRender: field === null || field === void 0 ? void 0 : (_field$props2 = field.props) === null || _field$props2 === void 0 ? void 0 : _field$props2.footerRender\n      }, rest.lightProps), otherProps.lightProps))\n    }), field);\n  }; // 标记是否是 proform 的组件\n  // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n\n\n  FieldWithContext.displayName = 'ProFormComponent';\n  return FieldWithContext;\n}\n\nexport default createField;"]},"metadata":{},"sourceType":"module"}