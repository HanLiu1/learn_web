{"ast":null,"code":"import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/popover/style\";\nimport _Popover from \"antd/es/popover\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"label\", \"rules\", \"name\", \"children\", \"popoverProps\"],\n    _excluded2 = [\"errorType\", \"rules\", \"name\", \"popoverProps\", \"children\"];\nimport React, { useState, useEffect } from 'react';\nimport './index.less';\nimport { LoadingOutlined } from '@ant-design/icons';\nvar FIX_INLINE_STYLE = {\n  marginTop: -5,\n  marginBottom: -5,\n  marginLeft: 0,\n  marginRight: 0\n};\n\nvar InlineErrorFormItem = function InlineErrorFormItem(_ref) {\n  var inputProps = _ref.inputProps,\n      input = _ref.input,\n      extra = _ref.extra,\n      errorList = _ref.errorList,\n      popoverProps = _ref.popoverProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorStringList = _useState4[0],\n      setErrorList = _useState4[1];\n\n  useEffect(function () {\n    if (inputProps.validateStatus !== 'validating') {\n      setErrorList(inputProps.errors);\n    }\n  }, [inputProps.errors, inputProps.validateStatus]);\n  return /*#__PURE__*/React.createElement(_Popover, {\n    key: \"popover\",\n    trigger: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.trigger) || 'focus',\n    placement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.placement) || 'topRight',\n    visible: errorStringList.length < 1 ? false : visible,\n    onVisibleChange: function onVisibleChange(visibleParams) {\n      if (visibleParams === visible) return;\n      setVisible(visibleParams);\n    },\n    content: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-form-item-with-help\"\n    }, inputProps.validateStatus === 'validating' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : null, errorList)\n  }, /*#__PURE__*/React.createElement(\"div\", null, input, extra));\n};\n\nvar InternalFormItem = function InternalFormItem(_ref2) {\n  var label = _ref2.label,\n      rules = _ref2.rules,\n      name = _ref2.name,\n      children = _ref2.children,\n      popoverProps = _ref2.popoverProps,\n      rest = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    preserve: false,\n    name: name,\n    rules: rules,\n    hasFeedback: true // @ts-ignore\n    ,\n    _internalItemRender: {\n      mark: 'pro_table_render',\n      render: function render(inputProps, doms) {\n        return /*#__PURE__*/React.createElement(InlineErrorFormItem, _extends({\n          inputProps: inputProps\n        }, doms));\n      }\n    }\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest === null || rest === void 0 ? void 0 : rest.style)\n  }), children);\n};\n\nexport default (function (props) {\n  var errorType = props.errorType,\n      rules = props.rules,\n      name = props.name,\n      popoverProps = props.popoverProps,\n      children = props.children,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  if (name && (rules === null || rules === void 0 ? void 0 : rules.length) && errorType === 'popover') {\n    return /*#__PURE__*/React.createElement(InternalFormItem, _extends({\n      name: name,\n      rules: rules,\n      popoverProps: popoverProps\n    }, rest), children);\n  }\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    rules: rules\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest.style),\n    name: name\n  }), children);\n});","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-utils/es/components/InlineErrorFormItem/index.js"],"names":["_Form","_objectSpread","_extends","_objectWithoutProperties","_Popover","_slicedToArray","_excluded","_excluded2","React","useState","useEffect","LoadingOutlined","FIX_INLINE_STYLE","marginTop","marginBottom","marginLeft","marginRight","InlineErrorFormItem","_ref","inputProps","input","extra","errorList","popoverProps","_useState","_useState2","visible","setVisible","_useState3","_useState4","errorStringList","setErrorList","validateStatus","errors","createElement","key","trigger","placement","length","onVisibleChange","visibleParams","content","className","InternalFormItem","_ref2","label","rules","name","children","rest","Item","preserve","hasFeedback","_internalItemRender","mark","render","doms","style","props","errorType"],"mappings":"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","sourcesContent":["import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/popover/style\";\nimport _Popover from \"antd/es/popover\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"label\", \"rules\", \"name\", \"children\", \"popoverProps\"],\n    _excluded2 = [\"errorType\", \"rules\", \"name\", \"popoverProps\", \"children\"];\nimport React, { useState, useEffect } from 'react';\nimport './index.less';\nimport { LoadingOutlined } from '@ant-design/icons';\nvar FIX_INLINE_STYLE = {\n  marginTop: -5,\n  marginBottom: -5,\n  marginLeft: 0,\n  marginRight: 0\n};\n\nvar InlineErrorFormItem = function InlineErrorFormItem(_ref) {\n  var inputProps = _ref.inputProps,\n      input = _ref.input,\n      extra = _ref.extra,\n      errorList = _ref.errorList,\n      popoverProps = _ref.popoverProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorStringList = _useState4[0],\n      setErrorList = _useState4[1];\n\n  useEffect(function () {\n    if (inputProps.validateStatus !== 'validating') {\n      setErrorList(inputProps.errors);\n    }\n  }, [inputProps.errors, inputProps.validateStatus]);\n  return /*#__PURE__*/React.createElement(_Popover, {\n    key: \"popover\",\n    trigger: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.trigger) || 'focus',\n    placement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.placement) || 'topRight',\n    visible: errorStringList.length < 1 ? false : visible,\n    onVisibleChange: function onVisibleChange(visibleParams) {\n      if (visibleParams === visible) return;\n      setVisible(visibleParams);\n    },\n    content: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-form-item-with-help\"\n    }, inputProps.validateStatus === 'validating' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : null, errorList)\n  }, /*#__PURE__*/React.createElement(\"div\", null, input, extra));\n};\n\nvar InternalFormItem = function InternalFormItem(_ref2) {\n  var label = _ref2.label,\n      rules = _ref2.rules,\n      name = _ref2.name,\n      children = _ref2.children,\n      popoverProps = _ref2.popoverProps,\n      rest = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    preserve: false,\n    name: name,\n    rules: rules,\n    hasFeedback: true // @ts-ignore\n    ,\n    _internalItemRender: {\n      mark: 'pro_table_render',\n      render: function render(inputProps, doms) {\n        return /*#__PURE__*/React.createElement(InlineErrorFormItem, _extends({\n          inputProps: inputProps\n        }, doms));\n      }\n    }\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest === null || rest === void 0 ? void 0 : rest.style)\n  }), children);\n};\n\nexport default (function (props) {\n  var errorType = props.errorType,\n      rules = props.rules,\n      name = props.name,\n      popoverProps = props.popoverProps,\n      children = props.children,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  if (name && (rules === null || rules === void 0 ? void 0 : rules.length) && errorType === 'popover') {\n    return /*#__PURE__*/React.createElement(InternalFormItem, _extends({\n      name: name,\n      rules: rules,\n      popoverProps: popoverProps\n    }, rest), children);\n  }\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    rules: rules\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest.style),\n    name: name\n  }), children);\n});"]},"metadata":{},"sourceType":"module"}