{"ast":null,"code":"import \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useEffect, useImperativeHandle, useRef } from 'react';\nimport { useIntl } from '@ant-design/pro-provider';\n/**\n * 最基本的组件，就是个普通的 Input\n *\n * @param\n */\n\nvar FieldText = function FieldText(_ref, ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      fieldProps = _ref.fieldProps,\n      _ref$emptyText = _ref.emptyText,\n      emptyText = _ref$emptyText === void 0 ? '-' : _ref$emptyText;\n  var intl = useIntl();\n  var inputRef = useRef();\n  useImperativeHandle(ref, function () {\n    return inputRef.current;\n  });\n  useEffect(function () {\n    if (fieldProps.autoFocus) {\n      var _inputRef$current;\n\n      inputRef === null || inputRef === void 0 ? void 0 : (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [fieldProps.autoFocus]);\n\n  if (mode === 'read') {\n    var dom = text !== null && text !== void 0 ? text : emptyText;\n\n    if (render) {\n      var _render;\n\n      return (_render = render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.prefix) || '', dom, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.suffix) || ''))) !== null && _render !== void 0 ? _render : emptyText;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.prefix) || '', dom, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.suffix) || '');\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.inputPlaceholder', '请输入');\n\n    var _dom = /*#__PURE__*/React.createElement(_Input, _extends({\n      ref: inputRef,\n      placeholder: placeholder,\n      allowClear: true\n    }, fieldProps));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldText);","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-field/es/components/Text/index.js"],"names":["_Input","_extends","_objectSpread","React","useEffect","useImperativeHandle","useRef","useIntl","FieldText","_ref","ref","text","mode","render","renderFormItem","fieldProps","_ref$emptyText","emptyText","intl","inputRef","current","autoFocus","_inputRef$current","focus","dom","_render","createElement","Fragment","prefix","suffix","placeholder","getMessage","_dom","allowClear","forwardRef"],"mappings":"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","sourcesContent":["import \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useEffect, useImperativeHandle, useRef } from 'react';\nimport { useIntl } from '@ant-design/pro-provider';\n/**\n * 最基本的组件，就是个普通的 Input\n *\n * @param\n */\n\nvar FieldText = function FieldText(_ref, ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      fieldProps = _ref.fieldProps,\n      _ref$emptyText = _ref.emptyText,\n      emptyText = _ref$emptyText === void 0 ? '-' : _ref$emptyText;\n  var intl = useIntl();\n  var inputRef = useRef();\n  useImperativeHandle(ref, function () {\n    return inputRef.current;\n  });\n  useEffect(function () {\n    if (fieldProps.autoFocus) {\n      var _inputRef$current;\n\n      inputRef === null || inputRef === void 0 ? void 0 : (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [fieldProps.autoFocus]);\n\n  if (mode === 'read') {\n    var dom = text !== null && text !== void 0 ? text : emptyText;\n\n    if (render) {\n      var _render;\n\n      return (_render = render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.prefix) || '', dom, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.suffix) || ''))) !== null && _render !== void 0 ? _render : emptyText;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.prefix) || '', dom, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.suffix) || '');\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.inputPlaceholder', '请输入');\n\n    var _dom = /*#__PURE__*/React.createElement(_Input, _extends({\n      ref: inputRef,\n      placeholder: placeholder,\n      allowClear: true\n    }, fieldProps));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldText);"]},"metadata":{},"sourceType":"module"}