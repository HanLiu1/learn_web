{"ast":null,"code":"import \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/cascader/style\";\nimport _Cascader from \"antd/es/cascader\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"radioType\", \"renderFormItem\", \"mode\", \"render\"];\nimport React, { useContext, useMemo, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport './index.less';\nimport { ObjToMap, proFieldParsingText, useFieldFetchData } from '../Select';\n/**\n * 单选组件\n *\n * @param param0\n * @param ref\n */\n\nvar FieldCascader = function FieldCascader(_ref, ref) {\n  var radioType = _ref.radioType,\n      renderFormItem = _ref.renderFormItem,\n      mode = _ref.mode,\n      render = _ref.render,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var layoutClassName = getPrefixCls('pro-field-cascader');\n\n  var _useFieldFetchData = useFieldFetchData(rest),\n      _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 3),\n      loading = _useFieldFetchData2[0],\n      options = _useFieldFetchData2[1],\n      _fetchData = _useFieldFetchData2[2];\n\n  var cascaderRef = useRef();\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, cascaderRef.current || {}), {}, {\n      fetchData: function fetchData() {\n        return _fetchData();\n      }\n    });\n  });\n  var optionsValueEnum = useMemo(function () {\n    return (options === null || options === void 0 ? void 0 : options.length) ? options === null || options === void 0 ? void 0 : options.reduce(function (pre, cur) {\n      return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, cur.value, cur.label));\n    }, {}) : undefined;\n  }, [options]);\n\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/React.createElement(React.Fragment, null, proFieldParsingText(rest.text, ObjToMap(rest.valueEnum || optionsValueEnum)));\n\n    if (render) {\n      return render(rest.text, _objectSpread({\n        mode: mode\n      }, rest.fieldProps), dom) || null;\n    }\n\n    return dom;\n  }\n\n  if (mode === 'edit') {\n    var _rest$fieldProps;\n\n    var _dom = /*#__PURE__*/React.createElement(_Spin, {\n      spinning: loading\n    }, /*#__PURE__*/React.createElement(_Cascader, _extends({\n      ref: cascaderRef\n    }, rest.fieldProps, {\n      className: classNames((_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : _rest$fieldProps.className, layoutClassName),\n      options: options\n    })));\n\n    if (renderFormItem) {\n      return renderFormItem(rest.text, _objectSpread({\n        mode: mode\n      }, rest.fieldProps), _dom) || null;\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldCascader);","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-field/es/components/Cascader/index.js"],"names":["_Spin","_Cascader","_extends","_defineProperty","_objectSpread","_slicedToArray","_ConfigProvider","_objectWithoutProperties","_excluded","React","useContext","useMemo","useImperativeHandle","useRef","classNames","ObjToMap","proFieldParsingText","useFieldFetchData","FieldCascader","_ref","ref","radioType","renderFormItem","mode","render","rest","_useContext","ConfigContext","getPrefixCls","layoutClassName","_useFieldFetchData","_useFieldFetchData2","loading","options","_fetchData","cascaderRef","current","fetchData","optionsValueEnum","length","reduce","pre","cur","value","label","undefined","dom","createElement","Fragment","text","valueEnum","fieldProps","_rest$fieldProps","_dom","spinning","className","forwardRef"],"mappings":"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","sourcesContent":["import \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/cascader/style\";\nimport _Cascader from \"antd/es/cascader\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"radioType\", \"renderFormItem\", \"mode\", \"render\"];\nimport React, { useContext, useMemo, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport './index.less';\nimport { ObjToMap, proFieldParsingText, useFieldFetchData } from '../Select';\n/**\n * 单选组件\n *\n * @param param0\n * @param ref\n */\n\nvar FieldCascader = function FieldCascader(_ref, ref) {\n  var radioType = _ref.radioType,\n      renderFormItem = _ref.renderFormItem,\n      mode = _ref.mode,\n      render = _ref.render,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var layoutClassName = getPrefixCls('pro-field-cascader');\n\n  var _useFieldFetchData = useFieldFetchData(rest),\n      _useFieldFetchData2 = _slicedToArray(_useFieldFetchData, 3),\n      loading = _useFieldFetchData2[0],\n      options = _useFieldFetchData2[1],\n      _fetchData = _useFieldFetchData2[2];\n\n  var cascaderRef = useRef();\n  useImperativeHandle(ref, function () {\n    return _objectSpread(_objectSpread({}, cascaderRef.current || {}), {}, {\n      fetchData: function fetchData() {\n        return _fetchData();\n      }\n    });\n  });\n  var optionsValueEnum = useMemo(function () {\n    return (options === null || options === void 0 ? void 0 : options.length) ? options === null || options === void 0 ? void 0 : options.reduce(function (pre, cur) {\n      return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, cur.value, cur.label));\n    }, {}) : undefined;\n  }, [options]);\n\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/React.createElement(React.Fragment, null, proFieldParsingText(rest.text, ObjToMap(rest.valueEnum || optionsValueEnum)));\n\n    if (render) {\n      return render(rest.text, _objectSpread({\n        mode: mode\n      }, rest.fieldProps), dom) || null;\n    }\n\n    return dom;\n  }\n\n  if (mode === 'edit') {\n    var _rest$fieldProps;\n\n    var _dom = /*#__PURE__*/React.createElement(_Spin, {\n      spinning: loading\n    }, /*#__PURE__*/React.createElement(_Cascader, _extends({\n      ref: cascaderRef\n    }, rest.fieldProps, {\n      className: classNames((_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : _rest$fieldProps.className, layoutClassName),\n      options: options\n    })));\n\n    if (renderFormItem) {\n      return renderFormItem(rest.text, _objectSpread({\n        mode: mode\n      }, rest.fieldProps), _dom) || null;\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldCascader);"]},"metadata":{},"sourceType":"module"}