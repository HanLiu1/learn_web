{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/avatar/style\";\nimport _Avatar from \"antd/es/avatar\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"text\", \"valueType\", \"onChange\", \"renderFormItem\", \"value\"];\nimport React, { useContext } from 'react';\nimport { pickProProps, omitUndefined } from '@ant-design/pro-utils';\nimport ConfigContext, { useIntl } from '@ant-design/pro-provider';\nimport FieldPercent from './components/Percent';\nimport FieldIndexColumn from './components/IndexColumn';\nimport FieldProgress from './components/Progress';\nimport FieldMoney from './components/Money';\nimport FieldDatePicker from './components/DatePicker';\nimport FieldFromNow from './components/FromNow';\nimport FieldRangePicker from './components/RangePicker';\nimport FieldCode from './components/Code';\nimport FieldTimePicker, { FieldTimeRangePicker } from './components/TimePicker';\nimport FieldText from './components/Text';\nimport FieldTextArea from './components/TextArea';\nimport FieldPassword from './components/Password';\nimport FieldStatus from './components/Status';\nimport FieldOptions from './components/Options';\nimport FieldSelect, { proFieldParsingText, proFieldParsingValueEnumToArray } from './components/Select';\nimport FieldCheckbox from './components/Checkbox';\nimport FieldRate from './components/Rate';\nimport FieldSwitch from './components/Switch';\nimport FieldDigit from './components/Digit';\nimport FieldSecond from './components/Second';\nimport FieldRadio from './components/Radio';\nimport FieldImage from './components/Image';\nimport FieldCascader from './components/Cascader';\nimport FieldColorPicker from './components/ColorPicker';\nimport { noteOnce } from \"rc-util/es/warning\";\nvar REQUEST_VALUE_TYPE = ['select', 'radio', 'radioButton', 'checkbook'];\n/**\n * Render valueType object\n *\n * @param text String | number\n * @param valueType ProColumnsValueObjectType\n */\n\nvar defaultRenderTextByObject = function defaultRenderTextByObject(text, valueType, props) {\n  var pickFormItemProps = pickProProps(props.fieldProps);\n\n  if (valueType.type === 'progress') {\n    return /*#__PURE__*/React.createElement(FieldProgress, _extends({}, props, {\n      text: text,\n      fieldProps: _objectSpread({\n        status: valueType.status ? valueType.status : undefined\n      }, pickFormItemProps)\n    }));\n  }\n\n  if (valueType.type === 'money') {\n    return /*#__PURE__*/React.createElement(FieldMoney, _extends({\n      locale: valueType.locale\n    }, props, {\n      fieldProps: pickFormItemProps,\n      text: text,\n      moneySymbol: valueType.moneySymbol\n    }));\n  }\n\n  if (valueType.type === 'percent') {\n    return /*#__PURE__*/React.createElement(FieldPercent, _extends({}, props, {\n      text: text,\n      showSymbol: valueType.showSymbol,\n      precision: valueType.precision,\n      fieldProps: pickFormItemProps,\n      showColor: valueType.showColor\n    }));\n  }\n\n  if (valueType.type === 'image') {\n    return /*#__PURE__*/React.createElement(FieldImage, _extends({}, props, {\n      text: text,\n      width: valueType.width\n    }));\n  }\n\n  return text;\n};\n/**\n * 根据不同的类型来转化数值\n *\n * @param text\n * @param valueType\n */\n\n\nvar defaultRenderText = function defaultRenderText(text, valueType, props, valueTypeMap) {\n  var _props$fieldProps;\n\n  var _props$mode = props.mode,\n      mode = _props$mode === void 0 ? 'read' : _props$mode,\n      _props$emptyText = props.emptyText,\n      emptyText = _props$emptyText === void 0 ? '-' : _props$emptyText;\n\n  if (emptyText !== false && mode === 'read' && valueType !== 'option' && valueType !== 'switch') {\n    if (typeof text !== 'boolean' && typeof text !== 'number' && !text) {\n      var fieldProps = props.fieldProps,\n          render = props.render;\n\n      if (render) {\n        return render(text, _objectSpread({\n          mode: mode\n        }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, emptyText));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, emptyText);\n    }\n  } // eslint-disable-next-line no-param-reassign\n\n\n  delete props.emptyText;\n\n  if (_typeof(valueType) === 'object') {\n    return defaultRenderTextByObject(text, valueType, props);\n  }\n\n  var customValueTypeConfig = valueTypeMap && valueTypeMap[valueType];\n\n  if (customValueTypeConfig) {\n    // eslint-disable-next-line no-param-reassign\n    delete props.ref;\n\n    if (mode === 'read') {\n      var _customValueTypeConfi;\n\n      return (_customValueTypeConfi = customValueTypeConfig.render) === null || _customValueTypeConfi === void 0 ? void 0 : _customValueTypeConfi.call(customValueTypeConfig, text, _objectSpread(_objectSpread({\n        text: text\n      }, props), {}, {\n        mode: mode || 'read'\n      }), /*#__PURE__*/React.createElement(React.Fragment, null, text));\n    }\n\n    if (mode === 'update' || mode === 'edit') {\n      var _customValueTypeConfi2;\n\n      return (_customValueTypeConfi2 = customValueTypeConfig.renderFormItem) === null || _customValueTypeConfi2 === void 0 ? void 0 : _customValueTypeConfi2.call(customValueTypeConfig, text, _objectSpread({\n        text: text\n      }, props), /*#__PURE__*/React.createElement(React.Fragment, null, text));\n    }\n  }\n\n  var needValueEnum = REQUEST_VALUE_TYPE.includes(valueType);\n  var hasValueEnum = !!(props.valueEnum || props.request || props.options || ((_props$fieldProps = props.fieldProps) === null || _props$fieldProps === void 0 ? void 0 : _props$fieldProps.options));\n  noteOnce(!needValueEnum || hasValueEnum, \"\\u5982\\u679C\\u8BBE\\u7F6E\\u4E86 valueType \\u4E3A \".concat(REQUEST_VALUE_TYPE.join(','), \"\\u4E2D\\u4EFB\\u610F\\u4E00\\u4E2A\\uFF0C\\u5219\\u9700\\u8981\\u914D\\u7F6Eoptions\\uFF0Crequest, valueEnum \\u5176\\u4E2D\\u4E4B\\u4E00\\uFF0C\\u5426\\u5219\\u65E0\\u6CD5\\u751F\\u6210\\u9009\\u9879\\u3002\"));\n  noteOnce(!needValueEnum || hasValueEnum, \"If you set valueType to any of \".concat(REQUEST_VALUE_TYPE.join(','), \", you need to configure options, request or valueEnum.\"));\n  /** 如果是金额的值 */\n\n  if (valueType === 'money') {\n    return /*#__PURE__*/React.createElement(FieldMoney, _extends({}, props, {\n      text: text\n    }));\n  }\n  /** 如果是日期的值 */\n\n\n  if (valueType === 'date') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD\"\n    }, props));\n  }\n  /** 如果是周的值 */\n\n\n  if (valueType === 'dateWeek') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-wo\",\n      picker: \"week\"\n    }, props));\n  }\n  /** 如果是月的值 */\n\n\n  if (valueType === 'dateMonth') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM\",\n      picker: \"month\"\n    }, props));\n  }\n  /** 如果是季度的值 */\n\n\n  if (valueType === 'dateQuarter') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-\\\\QQ\",\n      picker: \"quarter\"\n    }, props));\n  }\n  /** 如果是年的值 */\n\n\n  if (valueType === 'dateYear') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY\",\n      picker: \"year\"\n    }, props));\n  }\n  /** 如果是日期范围的值 */\n\n\n  if (valueType === 'dateRange') {\n    return /*#__PURE__*/React.createElement(FieldRangePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD\"\n    }, props));\n  }\n  /** 如果是日期加时间类型的值 */\n\n\n  if (valueType === 'dateTime') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD HH:mm:ss\",\n      showTime: true\n    }, props));\n  }\n  /** 如果是日期加时间类型的值的值 */\n\n\n  if (valueType === 'dateTimeRange') {\n    // 值不存在的时候显示 \"-\"\n    return /*#__PURE__*/React.createElement(FieldRangePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD HH:mm:ss\",\n      showTime: true\n    }, props));\n  }\n  /** 如果是时间类型的值 */\n\n\n  if (valueType === 'time') {\n    return /*#__PURE__*/React.createElement(FieldTimePicker, _extends({\n      text: text,\n      format: \"HH:mm:ss\"\n    }, props));\n  }\n  /** 如果是时间类型的值 */\n\n\n  if (valueType === 'timeRange') {\n    return /*#__PURE__*/React.createElement(FieldTimeRangePicker, _extends({\n      text: text,\n      format: \"HH:mm:ss\"\n    }, props));\n  }\n\n  if (valueType === 'fromNow') {\n    return /*#__PURE__*/React.createElement(FieldFromNow, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'index') {\n    return /*#__PURE__*/React.createElement(FieldIndexColumn, null, text + 1);\n  }\n\n  if (valueType === 'indexBorder') {\n    return /*#__PURE__*/React.createElement(FieldIndexColumn, {\n      border: true\n    }, text + 1);\n  }\n\n  if (valueType === 'progress') {\n    return /*#__PURE__*/React.createElement(FieldProgress, _extends({}, props, {\n      text: text\n    }));\n  }\n  /** 百分比, 默认展示符号, 不展示小数位 */\n\n\n  if (valueType === 'percent') {\n    return /*#__PURE__*/React.createElement(FieldPercent, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'avatar' && typeof text === 'string' && props.mode === 'read') {\n    return /*#__PURE__*/React.createElement(_Avatar, {\n      src: text,\n      size: 22,\n      shape: \"circle\"\n    });\n  }\n\n  if (valueType === 'code') {\n    return /*#__PURE__*/React.createElement(FieldCode, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'jsonCode') {\n    return /*#__PURE__*/React.createElement(FieldCode, _extends({\n      text: text,\n      language: \"json\"\n    }, props));\n  }\n\n  if (valueType === 'textarea') {\n    return /*#__PURE__*/React.createElement(FieldTextArea, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'digit') {\n    return /*#__PURE__*/React.createElement(FieldDigit, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'second') {\n    return /*#__PURE__*/React.createElement(FieldSecond, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'select' || valueType === 'text' && (props.valueEnum || props.request)) {\n    return /*#__PURE__*/React.createElement(FieldSelect, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'checkbox') {\n    return /*#__PURE__*/React.createElement(FieldCheckbox, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'radio') {\n    return /*#__PURE__*/React.createElement(FieldRadio, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'radioButton') {\n    return /*#__PURE__*/React.createElement(FieldRadio, _extends({\n      radioType: \"button\",\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'rate') {\n    return /*#__PURE__*/React.createElement(FieldRate, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'switch') {\n    return /*#__PURE__*/React.createElement(FieldSwitch, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'option') {\n    return /*#__PURE__*/React.createElement(FieldOptions, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'password') {\n    return /*#__PURE__*/React.createElement(FieldPassword, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'image') {\n    return /*#__PURE__*/React.createElement(FieldImage, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'cascader') {\n    return /*#__PURE__*/React.createElement(FieldCascader, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'color') {\n    return /*#__PURE__*/React.createElement(FieldColorPicker, _extends({\n      text: text\n    }, props));\n  }\n\n  return /*#__PURE__*/React.createElement(FieldText, _extends({\n    text: text\n  }, props));\n};\n\nexport { defaultRenderText };\n\nvar ProField = function ProField(_ref, ref) {\n  var _ref2;\n\n  var text = _ref.text,\n      _ref$valueType = _ref.valueType,\n      valueType = _ref$valueType === void 0 ? 'text' : _ref$valueType,\n      _onChange = _ref.onChange,\n      renderFormItem = _ref.renderFormItem,\n      value = _ref.value,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var intl = useIntl();\n  var context = useContext(ConfigContext);\n\n  var fieldProps = (value !== undefined || _onChange || (rest === null || rest === void 0 ? void 0 : rest.fieldProps)) && _objectSpread(_objectSpread({\n    value: value\n  }, omitUndefined(rest === null || rest === void 0 ? void 0 : rest.fieldProps)), {}, {\n    onChange: function onChange() {\n      var _rest$fieldProps, _rest$fieldProps$onCh;\n\n      for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n        restParams[_key] = arguments[_key];\n      }\n\n      rest === null || rest === void 0 ? void 0 : (_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : (_rest$fieldProps$onCh = _rest$fieldProps.onChange) === null || _rest$fieldProps$onCh === void 0 ? void 0 : _rest$fieldProps$onCh.call.apply(_rest$fieldProps$onCh, [_rest$fieldProps].concat(restParams));\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n    }\n  });\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, defaultRenderText((_ref2 = text !== null && text !== void 0 ? text : fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) !== null && _ref2 !== void 0 ? _ref2 : '', valueType || 'text', _objectSpread(_objectSpread({\n    ref: ref\n  }, rest), {}, {\n    mode: rest.mode || 'read',\n    renderFormItem: renderFormItem ? function () {\n      var newDom = renderFormItem.apply(void 0, arguments); // renderFormItem 之后的dom可能没有props，这里会帮忙注入一下\n\n      if ( /*#__PURE__*/React.isValidElement(newDom)) return /*#__PURE__*/React.cloneElement(newDom, _objectSpread(_objectSpread({\n        placeholder: rest.placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入')\n      }, fieldProps), newDom.props || {}));\n      return newDom;\n    } : undefined,\n    placeholder: rest.placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入'),\n    fieldProps: pickProProps(fieldProps)\n  }), context.valueTypeMap));\n};\n\nexport { FieldPercent, FieldIndexColumn, FieldProgress, FieldMoney, FieldDatePicker, FieldRangePicker, FieldCode, FieldTimePicker, FieldText, FieldStatus, FieldSelect, proFieldParsingText, proFieldParsingValueEnumToArray };\nexport default /*#__PURE__*/React.forwardRef(ProField);","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-field/es/index.js"],"names":["_objectWithoutProperties","_Avatar","_typeof","_extends","_objectSpread","_excluded","React","useContext","pickProProps","omitUndefined","ConfigContext","useIntl","FieldPercent","FieldIndexColumn","FieldProgress","FieldMoney","FieldDatePicker","FieldFromNow","FieldRangePicker","FieldCode","FieldTimePicker","FieldTimeRangePicker","FieldText","FieldTextArea","FieldPassword","FieldStatus","FieldOptions","FieldSelect","proFieldParsingText","proFieldParsingValueEnumToArray","FieldCheckbox","FieldRate","FieldSwitch","FieldDigit","FieldSecond","FieldRadio","FieldImage","FieldCascader","FieldColorPicker","noteOnce","REQUEST_VALUE_TYPE","defaultRenderTextByObject","text","valueType","props","pickFormItemProps","fieldProps","type","createElement","status","undefined","locale","moneySymbol","showSymbol","precision","showColor","width","defaultRenderText","valueTypeMap","_props$fieldProps","_props$mode","mode","_props$emptyText","emptyText","render","Fragment","customValueTypeConfig","ref","_customValueTypeConfi","call","_customValueTypeConfi2","renderFormItem","needValueEnum","includes","hasValueEnum","valueEnum","request","options","concat","join","format","picker","showTime","border","src","size","shape","language","radioType","ProField","_ref","_ref2","_ref$valueType","_onChange","onChange","value","rest","intl","context","_rest$fieldProps","_rest$fieldProps$onCh","_len","arguments","length","restParams","Array","_key","apply","newDom","isValidElement","cloneElement","placeholder","getMessage","forwardRef"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/avatar/style\";\nimport _Avatar from \"antd/es/avatar\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"text\", \"valueType\", \"onChange\", \"renderFormItem\", \"value\"];\nimport React, { useContext } from 'react';\nimport { pickProProps, omitUndefined } from '@ant-design/pro-utils';\nimport ConfigContext, { useIntl } from '@ant-design/pro-provider';\nimport FieldPercent from './components/Percent';\nimport FieldIndexColumn from './components/IndexColumn';\nimport FieldProgress from './components/Progress';\nimport FieldMoney from './components/Money';\nimport FieldDatePicker from './components/DatePicker';\nimport FieldFromNow from './components/FromNow';\nimport FieldRangePicker from './components/RangePicker';\nimport FieldCode from './components/Code';\nimport FieldTimePicker, { FieldTimeRangePicker } from './components/TimePicker';\nimport FieldText from './components/Text';\nimport FieldTextArea from './components/TextArea';\nimport FieldPassword from './components/Password';\nimport FieldStatus from './components/Status';\nimport FieldOptions from './components/Options';\nimport FieldSelect, { proFieldParsingText, proFieldParsingValueEnumToArray } from './components/Select';\nimport FieldCheckbox from './components/Checkbox';\nimport FieldRate from './components/Rate';\nimport FieldSwitch from './components/Switch';\nimport FieldDigit from './components/Digit';\nimport FieldSecond from './components/Second';\nimport FieldRadio from './components/Radio';\nimport FieldImage from './components/Image';\nimport FieldCascader from './components/Cascader';\nimport FieldColorPicker from './components/ColorPicker';\nimport { noteOnce } from \"rc-util/es/warning\";\nvar REQUEST_VALUE_TYPE = ['select', 'radio', 'radioButton', 'checkbook'];\n/**\n * Render valueType object\n *\n * @param text String | number\n * @param valueType ProColumnsValueObjectType\n */\n\nvar defaultRenderTextByObject = function defaultRenderTextByObject(text, valueType, props) {\n  var pickFormItemProps = pickProProps(props.fieldProps);\n\n  if (valueType.type === 'progress') {\n    return /*#__PURE__*/React.createElement(FieldProgress, _extends({}, props, {\n      text: text,\n      fieldProps: _objectSpread({\n        status: valueType.status ? valueType.status : undefined\n      }, pickFormItemProps)\n    }));\n  }\n\n  if (valueType.type === 'money') {\n    return /*#__PURE__*/React.createElement(FieldMoney, _extends({\n      locale: valueType.locale\n    }, props, {\n      fieldProps: pickFormItemProps,\n      text: text,\n      moneySymbol: valueType.moneySymbol\n    }));\n  }\n\n  if (valueType.type === 'percent') {\n    return /*#__PURE__*/React.createElement(FieldPercent, _extends({}, props, {\n      text: text,\n      showSymbol: valueType.showSymbol,\n      precision: valueType.precision,\n      fieldProps: pickFormItemProps,\n      showColor: valueType.showColor\n    }));\n  }\n\n  if (valueType.type === 'image') {\n    return /*#__PURE__*/React.createElement(FieldImage, _extends({}, props, {\n      text: text,\n      width: valueType.width\n    }));\n  }\n\n  return text;\n};\n/**\n * 根据不同的类型来转化数值\n *\n * @param text\n * @param valueType\n */\n\n\nvar defaultRenderText = function defaultRenderText(text, valueType, props, valueTypeMap) {\n  var _props$fieldProps;\n\n  var _props$mode = props.mode,\n      mode = _props$mode === void 0 ? 'read' : _props$mode,\n      _props$emptyText = props.emptyText,\n      emptyText = _props$emptyText === void 0 ? '-' : _props$emptyText;\n\n  if (emptyText !== false && mode === 'read' && valueType !== 'option' && valueType !== 'switch') {\n    if (typeof text !== 'boolean' && typeof text !== 'number' && !text) {\n      var fieldProps = props.fieldProps,\n          render = props.render;\n\n      if (render) {\n        return render(text, _objectSpread({\n          mode: mode\n        }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, emptyText));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, emptyText);\n    }\n  } // eslint-disable-next-line no-param-reassign\n\n\n  delete props.emptyText;\n\n  if (_typeof(valueType) === 'object') {\n    return defaultRenderTextByObject(text, valueType, props);\n  }\n\n  var customValueTypeConfig = valueTypeMap && valueTypeMap[valueType];\n\n  if (customValueTypeConfig) {\n    // eslint-disable-next-line no-param-reassign\n    delete props.ref;\n\n    if (mode === 'read') {\n      var _customValueTypeConfi;\n\n      return (_customValueTypeConfi = customValueTypeConfig.render) === null || _customValueTypeConfi === void 0 ? void 0 : _customValueTypeConfi.call(customValueTypeConfig, text, _objectSpread(_objectSpread({\n        text: text\n      }, props), {}, {\n        mode: mode || 'read'\n      }), /*#__PURE__*/React.createElement(React.Fragment, null, text));\n    }\n\n    if (mode === 'update' || mode === 'edit') {\n      var _customValueTypeConfi2;\n\n      return (_customValueTypeConfi2 = customValueTypeConfig.renderFormItem) === null || _customValueTypeConfi2 === void 0 ? void 0 : _customValueTypeConfi2.call(customValueTypeConfig, text, _objectSpread({\n        text: text\n      }, props), /*#__PURE__*/React.createElement(React.Fragment, null, text));\n    }\n  }\n\n  var needValueEnum = REQUEST_VALUE_TYPE.includes(valueType);\n  var hasValueEnum = !!(props.valueEnum || props.request || props.options || ((_props$fieldProps = props.fieldProps) === null || _props$fieldProps === void 0 ? void 0 : _props$fieldProps.options));\n  noteOnce(!needValueEnum || hasValueEnum, \"\\u5982\\u679C\\u8BBE\\u7F6E\\u4E86 valueType \\u4E3A \".concat(REQUEST_VALUE_TYPE.join(','), \"\\u4E2D\\u4EFB\\u610F\\u4E00\\u4E2A\\uFF0C\\u5219\\u9700\\u8981\\u914D\\u7F6Eoptions\\uFF0Crequest, valueEnum \\u5176\\u4E2D\\u4E4B\\u4E00\\uFF0C\\u5426\\u5219\\u65E0\\u6CD5\\u751F\\u6210\\u9009\\u9879\\u3002\"));\n  noteOnce(!needValueEnum || hasValueEnum, \"If you set valueType to any of \".concat(REQUEST_VALUE_TYPE.join(','), \", you need to configure options, request or valueEnum.\"));\n  /** 如果是金额的值 */\n\n  if (valueType === 'money') {\n    return /*#__PURE__*/React.createElement(FieldMoney, _extends({}, props, {\n      text: text\n    }));\n  }\n  /** 如果是日期的值 */\n\n\n  if (valueType === 'date') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD\"\n    }, props));\n  }\n  /** 如果是周的值 */\n\n\n  if (valueType === 'dateWeek') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-wo\",\n      picker: \"week\"\n    }, props));\n  }\n  /** 如果是月的值 */\n\n\n  if (valueType === 'dateMonth') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM\",\n      picker: \"month\"\n    }, props));\n  }\n  /** 如果是季度的值 */\n\n\n  if (valueType === 'dateQuarter') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-\\\\QQ\",\n      picker: \"quarter\"\n    }, props));\n  }\n  /** 如果是年的值 */\n\n\n  if (valueType === 'dateYear') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY\",\n      picker: \"year\"\n    }, props));\n  }\n  /** 如果是日期范围的值 */\n\n\n  if (valueType === 'dateRange') {\n    return /*#__PURE__*/React.createElement(FieldRangePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD\"\n    }, props));\n  }\n  /** 如果是日期加时间类型的值 */\n\n\n  if (valueType === 'dateTime') {\n    return /*#__PURE__*/React.createElement(FieldDatePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD HH:mm:ss\",\n      showTime: true\n    }, props));\n  }\n  /** 如果是日期加时间类型的值的值 */\n\n\n  if (valueType === 'dateTimeRange') {\n    // 值不存在的时候显示 \"-\"\n    return /*#__PURE__*/React.createElement(FieldRangePicker, _extends({\n      text: text,\n      format: \"YYYY-MM-DD HH:mm:ss\",\n      showTime: true\n    }, props));\n  }\n  /** 如果是时间类型的值 */\n\n\n  if (valueType === 'time') {\n    return /*#__PURE__*/React.createElement(FieldTimePicker, _extends({\n      text: text,\n      format: \"HH:mm:ss\"\n    }, props));\n  }\n  /** 如果是时间类型的值 */\n\n\n  if (valueType === 'timeRange') {\n    return /*#__PURE__*/React.createElement(FieldTimeRangePicker, _extends({\n      text: text,\n      format: \"HH:mm:ss\"\n    }, props));\n  }\n\n  if (valueType === 'fromNow') {\n    return /*#__PURE__*/React.createElement(FieldFromNow, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'index') {\n    return /*#__PURE__*/React.createElement(FieldIndexColumn, null, text + 1);\n  }\n\n  if (valueType === 'indexBorder') {\n    return /*#__PURE__*/React.createElement(FieldIndexColumn, {\n      border: true\n    }, text + 1);\n  }\n\n  if (valueType === 'progress') {\n    return /*#__PURE__*/React.createElement(FieldProgress, _extends({}, props, {\n      text: text\n    }));\n  }\n  /** 百分比, 默认展示符号, 不展示小数位 */\n\n\n  if (valueType === 'percent') {\n    return /*#__PURE__*/React.createElement(FieldPercent, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'avatar' && typeof text === 'string' && props.mode === 'read') {\n    return /*#__PURE__*/React.createElement(_Avatar, {\n      src: text,\n      size: 22,\n      shape: \"circle\"\n    });\n  }\n\n  if (valueType === 'code') {\n    return /*#__PURE__*/React.createElement(FieldCode, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'jsonCode') {\n    return /*#__PURE__*/React.createElement(FieldCode, _extends({\n      text: text,\n      language: \"json\"\n    }, props));\n  }\n\n  if (valueType === 'textarea') {\n    return /*#__PURE__*/React.createElement(FieldTextArea, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'digit') {\n    return /*#__PURE__*/React.createElement(FieldDigit, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'second') {\n    return /*#__PURE__*/React.createElement(FieldSecond, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'select' || valueType === 'text' && (props.valueEnum || props.request)) {\n    return /*#__PURE__*/React.createElement(FieldSelect, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'checkbox') {\n    return /*#__PURE__*/React.createElement(FieldCheckbox, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'radio') {\n    return /*#__PURE__*/React.createElement(FieldRadio, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'radioButton') {\n    return /*#__PURE__*/React.createElement(FieldRadio, _extends({\n      radioType: \"button\",\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'rate') {\n    return /*#__PURE__*/React.createElement(FieldRate, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'switch') {\n    return /*#__PURE__*/React.createElement(FieldSwitch, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'option') {\n    return /*#__PURE__*/React.createElement(FieldOptions, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'password') {\n    return /*#__PURE__*/React.createElement(FieldPassword, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'image') {\n    return /*#__PURE__*/React.createElement(FieldImage, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'cascader') {\n    return /*#__PURE__*/React.createElement(FieldCascader, _extends({\n      text: text\n    }, props));\n  }\n\n  if (valueType === 'color') {\n    return /*#__PURE__*/React.createElement(FieldColorPicker, _extends({\n      text: text\n    }, props));\n  }\n\n  return /*#__PURE__*/React.createElement(FieldText, _extends({\n    text: text\n  }, props));\n};\n\nexport { defaultRenderText };\n\nvar ProField = function ProField(_ref, ref) {\n  var _ref2;\n\n  var text = _ref.text,\n      _ref$valueType = _ref.valueType,\n      valueType = _ref$valueType === void 0 ? 'text' : _ref$valueType,\n      _onChange = _ref.onChange,\n      renderFormItem = _ref.renderFormItem,\n      value = _ref.value,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var intl = useIntl();\n  var context = useContext(ConfigContext);\n\n  var fieldProps = (value !== undefined || _onChange || (rest === null || rest === void 0 ? void 0 : rest.fieldProps)) && _objectSpread(_objectSpread({\n    value: value\n  }, omitUndefined(rest === null || rest === void 0 ? void 0 : rest.fieldProps)), {}, {\n    onChange: function onChange() {\n      var _rest$fieldProps, _rest$fieldProps$onCh;\n\n      for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n        restParams[_key] = arguments[_key];\n      }\n\n      rest === null || rest === void 0 ? void 0 : (_rest$fieldProps = rest.fieldProps) === null || _rest$fieldProps === void 0 ? void 0 : (_rest$fieldProps$onCh = _rest$fieldProps.onChange) === null || _rest$fieldProps$onCh === void 0 ? void 0 : _rest$fieldProps$onCh.call.apply(_rest$fieldProps$onCh, [_rest$fieldProps].concat(restParams));\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n    }\n  });\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, defaultRenderText((_ref2 = text !== null && text !== void 0 ? text : fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.value) !== null && _ref2 !== void 0 ? _ref2 : '', valueType || 'text', _objectSpread(_objectSpread({\n    ref: ref\n  }, rest), {}, {\n    mode: rest.mode || 'read',\n    renderFormItem: renderFormItem ? function () {\n      var newDom = renderFormItem.apply(void 0, arguments); // renderFormItem 之后的dom可能没有props，这里会帮忙注入一下\n\n      if ( /*#__PURE__*/React.isValidElement(newDom)) return /*#__PURE__*/React.cloneElement(newDom, _objectSpread(_objectSpread({\n        placeholder: rest.placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入')\n      }, fieldProps), newDom.props || {}));\n      return newDom;\n    } : undefined,\n    placeholder: rest.placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入'),\n    fieldProps: pickProProps(fieldProps)\n  }), context.valueTypeMap));\n};\n\nexport { FieldPercent, FieldIndexColumn, FieldProgress, FieldMoney, FieldDatePicker, FieldRangePicker, FieldCode, FieldTimePicker, FieldText, FieldStatus, FieldSelect, proFieldParsingText, proFieldParsingValueEnumToArray };\nexport default /*#__PURE__*/React.forwardRef(ProField);"]},"metadata":{},"sourceType":"module"}