{"ast":null,"code":"import \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"value\", \"onChange\", \"onBlur\", \"ignoreFormItem\", \"valuePropName\"],\n    _excluded2 = [\"children\", \"addonAfter\", \"addonBefore\"],\n    _excluded3 = [\"valueType\", \"transform\", \"dataFormat\", \"ignoreFormItem\", \"lightProps\"];\nimport React, { useContext, useEffect, useMemo } from 'react';\nimport { FormListContext } from '../List';\nimport FieldContext from '../../FieldContext';\nimport { isDropdownValueType, omitUndefined } from '@ant-design/pro-utils';\nimport LightWrapper from '../../BaseForm/LightWrapper';\nvar FormItemProvide = /*#__PURE__*/React.createContext({});\n/**\n * 把value扔给 fieldProps，方便给自定义用\n *\n * @param param0\n * @returns\n */\n\nvar WithValueFomFiledProps = function WithValueFomFiledProps(formFieldProps) {\n  var filedChildren = formFieldProps.children,\n      value = formFieldProps.value,\n      _onChange = formFieldProps.onChange,\n      _onBlur = formFieldProps.onBlur,\n      ignoreFormItem = formFieldProps.ignoreFormItem,\n      _formFieldProps$value = formFieldProps.valuePropName,\n      valuePropName = _formFieldProps$value === void 0 ? 'value' : _formFieldProps$value,\n      restProps = _objectWithoutProperties(formFieldProps, _excluded);\n\n  var fieldProps = useMemo(function () {\n    var _filedChildren$type, _filedChildren$props; // @ts-ignore\n\n\n    if ((filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$type = filedChildren.type) === null || _filedChildren$type === void 0 ? void 0 : _filedChildren$type.displayName) !== 'ProFormComponent') return undefined;\n    if (! /*#__PURE__*/React.isValidElement(filedChildren)) return undefined;\n    return omitUndefined(_objectSpread(_objectSpread(_defineProperty({\n      id: restProps.id\n    }, valuePropName, formFieldProps[valuePropName]), (filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props = filedChildren.props) === null || _filedChildren$props === void 0 ? void 0 : _filedChildren$props.fieldProps) || {}), {}, {\n      onBlur: function onBlur() {\n        var _filedChildren$props2, _filedChildren$props3, _filedChildren$props4, _filedChildren$props5, _filedChildren$props6;\n\n        for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n          restParams[_key] = arguments[_key];\n        }\n\n        _onBlur === null || _onBlur === void 0 ? void 0 : _onBlur.apply(void 0, restParams);\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props2 = filedChildren.props) === null || _filedChildren$props2 === void 0 ? void 0 : (_filedChildren$props3 = _filedChildren$props2.onBlur) === null || _filedChildren$props3 === void 0 ? void 0 : _filedChildren$props3.call.apply(_filedChildren$props3, [_filedChildren$props2].concat(restParams));\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props4 = filedChildren.props) === null || _filedChildren$props4 === void 0 ? void 0 : (_filedChildren$props5 = _filedChildren$props4.fieldProps) === null || _filedChildren$props5 === void 0 ? void 0 : (_filedChildren$props6 = _filedChildren$props5.onBlur) === null || _filedChildren$props6 === void 0 ? void 0 : _filedChildren$props6.call.apply(_filedChildren$props6, [_filedChildren$props5].concat(restParams));\n      },\n      // 这个 onChange 是 Form.Item 添加上的，\n      // 要通过 fieldProps 透传给 ProField 调用\n      onChange: function onChange() {\n        var _filedChildren$props7, _filedChildren$props8, _filedChildren$props9, _filedChildren$props10, _filedChildren$props11;\n\n        for (var _len2 = arguments.length, restParams = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          restParams[_key2] = arguments[_key2];\n        }\n\n        _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props7 = filedChildren.props) === null || _filedChildren$props7 === void 0 ? void 0 : (_filedChildren$props8 = _filedChildren$props7.onChange) === null || _filedChildren$props8 === void 0 ? void 0 : _filedChildren$props8.call.apply(_filedChildren$props8, [_filedChildren$props7].concat(restParams));\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props9 = filedChildren.props) === null || _filedChildren$props9 === void 0 ? void 0 : (_filedChildren$props10 = _filedChildren$props9.fieldProps) === null || _filedChildren$props10 === void 0 ? void 0 : (_filedChildren$props11 = _filedChildren$props10.onChange) === null || _filedChildren$props11 === void 0 ? void 0 : _filedChildren$props11.call.apply(_filedChildren$props11, [_filedChildren$props10].concat(restParams));\n      }\n    }));\n  }, [filedChildren, formFieldProps, _onBlur, _onChange, restProps.id, valuePropName]);\n  if (! /*#__PURE__*/React.isValidElement(filedChildren)) return filedChildren;\n  var finalChange = fieldProps ? undefined : function () {\n    var _filedChildren$props12, _filedChildren$props13;\n\n    for (var _len3 = arguments.length, restParams = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      restParams[_key3] = arguments[_key3];\n    }\n\n    _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n    filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props12 = filedChildren.props) === null || _filedChildren$props12 === void 0 ? void 0 : (_filedChildren$props13 = _filedChildren$props12.onChange) === null || _filedChildren$props13 === void 0 ? void 0 : _filedChildren$props13.call.apply(_filedChildren$props13, [_filedChildren$props12].concat(restParams));\n  };\n  return /*#__PURE__*/React.cloneElement(filedChildren, omitUndefined(_objectSpread(_objectSpread(_objectSpread({}, restProps), {}, {\n    value: value\n  }, filedChildren.props), {}, {\n    onChange: finalChange,\n    fieldProps: fieldProps\n  })));\n};\n/**\n * 支持了一下前置 dom 和后置的 dom 同时包一个provide\n *\n * @param WarpFormItemProps\n * @returns\n */\n\n\nvar WarpFormItem = function WarpFormItem(_ref) {\n  var children = _ref.children,\n      addonAfter = _ref.addonAfter,\n      addonBefore = _ref.addonBefore,\n      props = _objectWithoutProperties(_ref, _excluded2);\n\n  var formDom = useMemo(function () {\n    if (!addonAfter && !addonBefore) return /*#__PURE__*/React.createElement(_Form.Item, props, children);\n    return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n      // @ts-ignore\n      _internalItemRender: {\n        mark: 'pro_table_render',\n        render: function render(inputProps, doms) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            }\n          }, addonBefore ? /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              marginRight: 8\n            }\n          }, addonBefore) : null, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              flex: 1\n            }\n          }, doms.input), addonAfter ? /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              marginLeft: 8\n            }\n          }, addonAfter) : null), doms.extra, doms.errorList);\n        }\n      }\n    }, props), children);\n  }, [addonAfter, addonBefore, children, props]);\n  return /*#__PURE__*/React.createElement(FormItemProvide.Provider, {\n    value: {\n      name: props.name,\n      label: props.label\n    }\n  }, formDom);\n};\n\nvar ProFormItem = function ProFormItem(props) {\n  var _rest$name, _rest$name2;\n  /** 从 context 中拿到的值 */\n\n\n  var size = useContext(_ConfigProvider.SizeContext);\n\n  var valueType = props.valueType,\n      transform = props.transform,\n      dataFormat = props.dataFormat,\n      ignoreFormItem = props.ignoreFormItem,\n      _props$lightProps = props.lightProps,\n      lightProps = _props$lightProps === void 0 ? {} : _props$lightProps,\n      rest = _objectWithoutProperties(props, _excluded3);\n\n  var formListField = useContext(FormListContext); // ProFromList 的 filed，里面有name和key\n\n  /** 从 context 中拿到的值 */\n\n  var name = useMemo(function () {\n    if (formListField.name !== undefined) {\n      return [formListField.name, props.name].flat(1);\n    }\n\n    return props.name;\n  }, [formListField.name, props.name]);\n  /** 从 context 中拿到的值 */\n\n  var _React$useContext = React.useContext(FieldContext),\n      setFieldValueType = _React$useContext.setFieldValueType,\n      formItemProps = _React$useContext.formItemProps;\n\n  useEffect(function () {\n    // 如果 setFieldValueType 和 props.name 不存在不存入\n    if (!setFieldValueType || !props.name) {\n      return;\n    } // Field.type === 'ProField' 时 props 里面是有 valueType 的，所以要设置一下\n    // 写一个 ts 比较麻烦，用 any 顶一下\n\n\n    setFieldValueType([formListField.listName, name].flat(1).filter(function (itemName) {\n      return itemName !== undefined;\n    }), {\n      valueType: valueType || 'text',\n      dateFormat: dataFormat,\n      transform: transform\n    });\n  }, [formListField.listName, name, dataFormat, props.name, setFieldValueType, transform, valueType]);\n  var isDropdown = /*#__PURE__*/React.isValidElement(props.children) && isDropdownValueType(valueType || props.children.props.valueType);\n  var noLightFormItem = useMemo(function () {\n    if (!lightProps.light || lightProps.customLightMode || isDropdown) {\n      return true;\n    }\n\n    return false;\n  }, [lightProps.customLightMode, isDropdown, lightProps.light]);\n\n  if (typeof props.children === 'function') {\n    return /*#__PURE__*/React.createElement(WarpFormItem, _extends({}, rest, {\n      name: name\n    }), props.children);\n  } // formItem 支持function，如果是function 我就直接不管了\n\n\n  var children = /*#__PURE__*/React.createElement(WithValueFomFiledProps, {\n    key: (_rest$name = rest.name) === null || _rest$name === void 0 ? void 0 : _rest$name.toString(),\n    valuePropName: props.valuePropName\n  }, props.children);\n  var lightDom = noLightFormItem ? children : /*#__PURE__*/React.createElement(LightWrapper, _extends({}, lightProps, {\n    key: (_rest$name2 = rest.name) === null || _rest$name2 === void 0 ? void 0 : _rest$name2.toString(),\n    size: size\n  }), children); // 这里控制是否需要 LightWrapper，为了提升一点点性能\n\n  if (ignoreFormItem) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, lightDom);\n  }\n\n  return /*#__PURE__*/React.createElement(WarpFormItem, _extends({}, formItemProps, rest, {\n    name: name\n  }), lightDom);\n};\n\nexport { FormItemProvide };\nexport default ProFormItem;","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-form/es/components/FormItem/index.js"],"names":["_ConfigProvider","_extends","_Form","_defineProperty","_objectSpread","_objectWithoutProperties","_excluded","_excluded2","_excluded3","React","useContext","useEffect","useMemo","FormListContext","FieldContext","isDropdownValueType","omitUndefined","LightWrapper","FormItemProvide","createContext","WithValueFomFiledProps","formFieldProps","filedChildren","children","value","_onChange","onChange","_onBlur","onBlur","ignoreFormItem","_formFieldProps$value","valuePropName","restProps","fieldProps","_filedChildren$type","_filedChildren$props","type","displayName","undefined","isValidElement","id","props","_filedChildren$props2","_filedChildren$props3","_filedChildren$props4","_filedChildren$props5","_filedChildren$props6","_len","arguments","length","restParams","Array","_key","apply","call","concat","_filedChildren$props7","_filedChildren$props8","_filedChildren$props9","_filedChildren$props10","_filedChildren$props11","_len2","_key2","finalChange","_filedChildren$props12","_filedChildren$props13","_len3","_key3","cloneElement","WarpFormItem","_ref","addonAfter","addonBefore","formDom","createElement","Item","_internalItemRender","mark","render","inputProps","doms","Fragment","style","display","alignItems","marginRight","flex","input","marginLeft","extra","errorList","Provider","name","label","ProFormItem","_rest$name","_rest$name2","size","SizeContext","valueType","transform","dataFormat","_props$lightProps","lightProps","rest","formListField","flat","_React$useContext","setFieldValueType","formItemProps","listName","filter","itemName","dateFormat","isDropdown","noLightFormItem","light","customLightMode","key","toString","lightDom"],"mappings":"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","sourcesContent":["import \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"value\", \"onChange\", \"onBlur\", \"ignoreFormItem\", \"valuePropName\"],\n    _excluded2 = [\"children\", \"addonAfter\", \"addonBefore\"],\n    _excluded3 = [\"valueType\", \"transform\", \"dataFormat\", \"ignoreFormItem\", \"lightProps\"];\nimport React, { useContext, useEffect, useMemo } from 'react';\nimport { FormListContext } from '../List';\nimport FieldContext from '../../FieldContext';\nimport { isDropdownValueType, omitUndefined } from '@ant-design/pro-utils';\nimport LightWrapper from '../../BaseForm/LightWrapper';\nvar FormItemProvide = /*#__PURE__*/React.createContext({});\n/**\n * 把value扔给 fieldProps，方便给自定义用\n *\n * @param param0\n * @returns\n */\n\nvar WithValueFomFiledProps = function WithValueFomFiledProps(formFieldProps) {\n  var filedChildren = formFieldProps.children,\n      value = formFieldProps.value,\n      _onChange = formFieldProps.onChange,\n      _onBlur = formFieldProps.onBlur,\n      ignoreFormItem = formFieldProps.ignoreFormItem,\n      _formFieldProps$value = formFieldProps.valuePropName,\n      valuePropName = _formFieldProps$value === void 0 ? 'value' : _formFieldProps$value,\n      restProps = _objectWithoutProperties(formFieldProps, _excluded);\n\n  var fieldProps = useMemo(function () {\n    var _filedChildren$type, _filedChildren$props;\n\n    // @ts-ignore\n    if ((filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$type = filedChildren.type) === null || _filedChildren$type === void 0 ? void 0 : _filedChildren$type.displayName) !== 'ProFormComponent') return undefined;\n    if (! /*#__PURE__*/React.isValidElement(filedChildren)) return undefined;\n    return omitUndefined(_objectSpread(_objectSpread(_defineProperty({\n      id: restProps.id\n    }, valuePropName, formFieldProps[valuePropName]), (filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props = filedChildren.props) === null || _filedChildren$props === void 0 ? void 0 : _filedChildren$props.fieldProps) || {}), {}, {\n      onBlur: function onBlur() {\n        var _filedChildren$props2, _filedChildren$props3, _filedChildren$props4, _filedChildren$props5, _filedChildren$props6;\n\n        for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n          restParams[_key] = arguments[_key];\n        }\n\n        _onBlur === null || _onBlur === void 0 ? void 0 : _onBlur.apply(void 0, restParams);\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props2 = filedChildren.props) === null || _filedChildren$props2 === void 0 ? void 0 : (_filedChildren$props3 = _filedChildren$props2.onBlur) === null || _filedChildren$props3 === void 0 ? void 0 : _filedChildren$props3.call.apply(_filedChildren$props3, [_filedChildren$props2].concat(restParams));\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props4 = filedChildren.props) === null || _filedChildren$props4 === void 0 ? void 0 : (_filedChildren$props5 = _filedChildren$props4.fieldProps) === null || _filedChildren$props5 === void 0 ? void 0 : (_filedChildren$props6 = _filedChildren$props5.onBlur) === null || _filedChildren$props6 === void 0 ? void 0 : _filedChildren$props6.call.apply(_filedChildren$props6, [_filedChildren$props5].concat(restParams));\n      },\n      // 这个 onChange 是 Form.Item 添加上的，\n      // 要通过 fieldProps 透传给 ProField 调用\n      onChange: function onChange() {\n        var _filedChildren$props7, _filedChildren$props8, _filedChildren$props9, _filedChildren$props10, _filedChildren$props11;\n\n        for (var _len2 = arguments.length, restParams = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          restParams[_key2] = arguments[_key2];\n        }\n\n        _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props7 = filedChildren.props) === null || _filedChildren$props7 === void 0 ? void 0 : (_filedChildren$props8 = _filedChildren$props7.onChange) === null || _filedChildren$props8 === void 0 ? void 0 : _filedChildren$props8.call.apply(_filedChildren$props8, [_filedChildren$props7].concat(restParams));\n        filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props9 = filedChildren.props) === null || _filedChildren$props9 === void 0 ? void 0 : (_filedChildren$props10 = _filedChildren$props9.fieldProps) === null || _filedChildren$props10 === void 0 ? void 0 : (_filedChildren$props11 = _filedChildren$props10.onChange) === null || _filedChildren$props11 === void 0 ? void 0 : _filedChildren$props11.call.apply(_filedChildren$props11, [_filedChildren$props10].concat(restParams));\n      }\n    }));\n  }, [filedChildren, formFieldProps, _onBlur, _onChange, restProps.id, valuePropName]);\n  if (! /*#__PURE__*/React.isValidElement(filedChildren)) return filedChildren;\n  var finalChange = fieldProps ? undefined : function () {\n    var _filedChildren$props12, _filedChildren$props13;\n\n    for (var _len3 = arguments.length, restParams = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      restParams[_key3] = arguments[_key3];\n    }\n\n    _onChange === null || _onChange === void 0 ? void 0 : _onChange.apply(void 0, restParams);\n    filedChildren === null || filedChildren === void 0 ? void 0 : (_filedChildren$props12 = filedChildren.props) === null || _filedChildren$props12 === void 0 ? void 0 : (_filedChildren$props13 = _filedChildren$props12.onChange) === null || _filedChildren$props13 === void 0 ? void 0 : _filedChildren$props13.call.apply(_filedChildren$props13, [_filedChildren$props12].concat(restParams));\n  };\n  return /*#__PURE__*/React.cloneElement(filedChildren, omitUndefined(_objectSpread(_objectSpread(_objectSpread({}, restProps), {}, {\n    value: value\n  }, filedChildren.props), {}, {\n    onChange: finalChange,\n    fieldProps: fieldProps\n  })));\n};\n/**\n * 支持了一下前置 dom 和后置的 dom 同时包一个provide\n *\n * @param WarpFormItemProps\n * @returns\n */\n\n\nvar WarpFormItem = function WarpFormItem(_ref) {\n  var children = _ref.children,\n      addonAfter = _ref.addonAfter,\n      addonBefore = _ref.addonBefore,\n      props = _objectWithoutProperties(_ref, _excluded2);\n\n  var formDom = useMemo(function () {\n    if (!addonAfter && !addonBefore) return /*#__PURE__*/React.createElement(_Form.Item, props, children);\n    return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n      // @ts-ignore\n      _internalItemRender: {\n        mark: 'pro_table_render',\n        render: function render(inputProps, doms) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            }\n          }, addonBefore ? /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              marginRight: 8\n            }\n          }, addonBefore) : null, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              flex: 1\n            }\n          }, doms.input), addonAfter ? /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              marginLeft: 8\n            }\n          }, addonAfter) : null), doms.extra, doms.errorList);\n        }\n      }\n    }, props), children);\n  }, [addonAfter, addonBefore, children, props]);\n  return /*#__PURE__*/React.createElement(FormItemProvide.Provider, {\n    value: {\n      name: props.name,\n      label: props.label\n    }\n  }, formDom);\n};\n\nvar ProFormItem = function ProFormItem(props) {\n  var _rest$name, _rest$name2;\n\n  /** 从 context 中拿到的值 */\n  var size = useContext(_ConfigProvider.SizeContext);\n\n  var valueType = props.valueType,\n      transform = props.transform,\n      dataFormat = props.dataFormat,\n      ignoreFormItem = props.ignoreFormItem,\n      _props$lightProps = props.lightProps,\n      lightProps = _props$lightProps === void 0 ? {} : _props$lightProps,\n      rest = _objectWithoutProperties(props, _excluded3);\n\n  var formListField = useContext(FormListContext); // ProFromList 的 filed，里面有name和key\n\n  /** 从 context 中拿到的值 */\n\n  var name = useMemo(function () {\n    if (formListField.name !== undefined) {\n      return [formListField.name, props.name].flat(1);\n    }\n\n    return props.name;\n  }, [formListField.name, props.name]);\n  /** 从 context 中拿到的值 */\n\n  var _React$useContext = React.useContext(FieldContext),\n      setFieldValueType = _React$useContext.setFieldValueType,\n      formItemProps = _React$useContext.formItemProps;\n\n  useEffect(function () {\n    // 如果 setFieldValueType 和 props.name 不存在不存入\n    if (!setFieldValueType || !props.name) {\n      return;\n    } // Field.type === 'ProField' 时 props 里面是有 valueType 的，所以要设置一下\n    // 写一个 ts 比较麻烦，用 any 顶一下\n\n\n    setFieldValueType([formListField.listName, name].flat(1).filter(function (itemName) {\n      return itemName !== undefined;\n    }), {\n      valueType: valueType || 'text',\n      dateFormat: dataFormat,\n      transform: transform\n    });\n  }, [formListField.listName, name, dataFormat, props.name, setFieldValueType, transform, valueType]);\n  var isDropdown = /*#__PURE__*/React.isValidElement(props.children) && isDropdownValueType(valueType || props.children.props.valueType);\n  var noLightFormItem = useMemo(function () {\n    if (!lightProps.light || lightProps.customLightMode || isDropdown) {\n      return true;\n    }\n\n    return false;\n  }, [lightProps.customLightMode, isDropdown, lightProps.light]);\n\n  if (typeof props.children === 'function') {\n    return /*#__PURE__*/React.createElement(WarpFormItem, _extends({}, rest, {\n      name: name\n    }), props.children);\n  } // formItem 支持function，如果是function 我就直接不管了\n\n\n  var children = /*#__PURE__*/React.createElement(WithValueFomFiledProps, {\n    key: (_rest$name = rest.name) === null || _rest$name === void 0 ? void 0 : _rest$name.toString(),\n    valuePropName: props.valuePropName\n  }, props.children);\n  var lightDom = noLightFormItem ? children : /*#__PURE__*/React.createElement(LightWrapper, _extends({}, lightProps, {\n    key: (_rest$name2 = rest.name) === null || _rest$name2 === void 0 ? void 0 : _rest$name2.toString(),\n    size: size\n  }), children); // 这里控制是否需要 LightWrapper，为了提升一点点性能\n\n  if (ignoreFormItem) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, lightDom);\n  }\n\n  return /*#__PURE__*/React.createElement(WarpFormItem, _extends({}, formItemProps, rest, {\n    name: name\n  }), lightDom);\n};\n\nexport { FormItemProvide };\nexport default ProFormItem;"]},"metadata":{},"sourceType":"module"}