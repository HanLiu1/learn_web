{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useEffect, useRef, useCallback } from 'react';\n\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isMounted = useRef(false);\n  useEffect(function () {\n    if (!isMounted.current) {\n      isMounted.current = true;\n    } else {\n      return effect();\n    }\n\n    return function () {\n      return undefined;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\nfunction useDebounceFn(fn, deps, wait) {\n  // eslint-disable-next-line no-underscore-dangle\n  var hooksDeps = Array.isArray(deps) ? deps : []; // eslint-disable-next-line no-underscore-dangle\n\n  var hookWait = typeof deps === 'number' ? deps : wait || 0;\n  var timer = useRef();\n  var fnRef = useRef(fn);\n  fnRef.current = fn;\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var _len,\n        args,\n        _key,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args2[_key];\n            }\n\n            return _context2.abrupt(\"return\", new Promise(function (resolve) {\n              cancel();\n              timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var data;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return fnRef.current.apply(fnRef, args);\n\n                      case 2:\n                        data = _context.sent;\n                        resolve(data);\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), hookWait);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [hookWait, cancel]);\n  useUpdateEffect(function () {\n    run();\n    return cancel;\n  }, [].concat(_toConsumableArray(hooksDeps), [run])); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    return cancel;\n  }, []);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}\n\nexport default useDebounceFn;","map":{"version":3,"sources":["C:/web/my-app/node_modules/@ant-design/pro-utils/es/hooks/useDebounceFn/index.js"],"names":["_toConsumableArray","_regeneratorRuntime","_asyncToGenerator","useEffect","useRef","useCallback","useUpdateEffect","effect","deps","isMounted","current","undefined","useDebounceFn","fn","wait","hooksDeps","Array","isArray","hookWait","timer","fnRef","cancel","clearTimeout","run","mark","_callee2","_len","args","_key","_args2","arguments","wrap","_callee2$","_context2","prev","next","length","abrupt","Promise","resolve","setTimeout","_callee","data","_callee$","_context","apply","sent","stop","concat"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useEffect, useRef, useCallback } from 'react';\n\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isMounted = useRef(false);\n  useEffect(function () {\n    if (!isMounted.current) {\n      isMounted.current = true;\n    } else {\n      return effect();\n    }\n\n    return function () {\n      return undefined;\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\nfunction useDebounceFn(fn, deps, wait) {\n  // eslint-disable-next-line no-underscore-dangle\n  var hooksDeps = Array.isArray(deps) ? deps : []; // eslint-disable-next-line no-underscore-dangle\n\n  var hookWait = typeof deps === 'number' ? deps : wait || 0;\n  var timer = useRef();\n  var fnRef = useRef(fn);\n  fnRef.current = fn;\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var _len,\n        args,\n        _key,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args2[_key];\n            }\n\n            return _context2.abrupt(\"return\", new Promise(function (resolve) {\n              cancel();\n              timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var data;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return fnRef.current.apply(fnRef, args);\n\n                      case 2:\n                        data = _context.sent;\n                        resolve(data);\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), hookWait);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [hookWait, cancel]);\n  useUpdateEffect(function () {\n    run();\n    return cancel;\n  }, [].concat(_toConsumableArray(hooksDeps), [run])); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    return cancel;\n  }, []);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}\n\nexport default useDebounceFn;"]},"metadata":{},"sourceType":"module"}